const gameData = {
  "gameKey":"DB",
  "date":"2023-04-06(목) 03:30",
  "type":"League",
  "score":{"home":null,"away":null},
  "region":"Seoul",
  "location":null,
  "homeTeam":"HYLions",
  "awayTeam":"SNGreenTerrors",
  "Clips": [
    {
      "clipKey":"1",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"SACK",
      "specialTeam":false,
      "start": {"side":"OPP","yard":33},
      "end": {"side":"OPP","yard":35},
      "gainYard":-2,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":60,"pos":"OL"},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["SACK","TFL",null,null]
    },
    {
      "clipKey":"2",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RUN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":33},
      "end": {"side":"OPP","yard":30},
      "gainYard":3,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":4,"pos":"DB"},
      "significantPlays": [null,null,null,null]
    },
    {
      "clipKey":"3",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RUN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":33},
      "end": {"side":"OPP","yard":30},
      "gainYard":3,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": [null,null,null,null]
    },
    {
      "clipKey":"4",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RUN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":33},
      "end": {"side":"OPP","yard":30},
      "gainYard":3,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["FUMBLE",null,null,null]
    },
    {
      "clipKey":"4",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RUN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":30},
      "gainYard":0,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["FUMBLERECOFF",null,null,null]
    },
    {
      "clipKey":"5",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RUN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":30},
      "gainYard":0,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["FUMBLERECDEF",null,null,null]
    },
    {
      "clipKey":"5",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RETURN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":31},
      "gainYard":-1,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":4,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["FUMBLERECDEF","TURNOVER",null,null]
    },
    {
      "clipKey":"6",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"NOPASS",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":30},
      "gainYard":0,
      "car": {"num":1,"pos":"WR"},
      "car2": {"num":2,"pos":"QB"},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": [null,null,null,null]
    },
    {
      "clipKey":"7",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"NOPASS",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":30},
      "gainYard":0,
      "car": {"num":1,"pos":"WR"},
      "car2": {"num":2,"pos":"QB"},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["INTERCEPT",null,null,null]
    },
    {
      "clipKey":"7",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RETURN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":37},
      "gainYard":-7,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["TURNOVER",null,null,null]
    },
    {
      "clipKey":"8",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"NOPASS",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":30},
      "gainYard":0,
      "car": {"num":1,"pos":"WR"},
      "car2": {"num":2,"pos":"QB"},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["INTERCEPT",null,null,null]
    },
    {
      "clipKey":"8",
      "offensiveTeam":"Home",
      "quarter":1,
      "down":"4",
      "toGoYard":10,
      "playType":"RETURN",
      "specialTeam":false,
      "start": {"side":"OPP","yard":30},
      "end": {"side":"OPP","yard":37},
      "gainYard":-7,
      "car": {"num":2,"pos":"QB"},
      "car2": {"num":null,"pos":null},
      "tkl": {"num":3,"pos":"DB"},
      "tkl2": {"num":null,"pos":null},
      "significantPlays": ["TURNOVER","TOUCHDOWN",null,null]
    }
  ]
};

// DB3의 태클 수 계산 로직
let db3Tackles = 0;
const tackleDetails = [];

gameData.Clips.forEach((clip, index) => {
  const playType = clip.playType?.toUpperCase();
  const isDB3Tackle = (clip.tkl?.num === 3 && clip.tkl?.pos === 'DB') || 
                      (clip.tkl2?.num === 3 && clip.tkl2?.pos === 'DB');
  
  // 태클 수 처리 (PASS, RUN, SACK 플레이에서만)
  if (isDB3Tackle && (playType === 'PASS' || playType === 'RUN' || playType === 'SACK')) {
    db3Tackles++;
    tackleDetails.push({
      index: index + 1,
      clipKey: clip.clipKey,
      playType: playType,
      tkl: clip.tkl,
      tkl2: clip.tkl2
    });
  }
});

console.log('DB3 총 태클 수:', db3Tackles);
console.log('\n태클 상세 내역:');
tackleDetails.forEach(detail => {
  console.log(`클립 ${detail.index} (clipKey: ${detail.clipKey}): ${detail.playType} - tkl: ${detail.tkl?.num}(${detail.tkl?.pos}), tkl2: ${detail.tkl2?.num || 'null'}(${detail.tkl2?.pos || 'null'})`);
});